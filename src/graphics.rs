
use std::collections::HashMap;
use super::strings::len_of_string;

#[derive(Debug, Eq, PartialEq, Hash)]
pub enum Hangman {
    Splash,
    Error(i32),
    Win(i32),
    Loose,
    Bye(i32),
}

use Hangman::*;

pub struct Graphic(String);

impl Graphic {
    pub fn new(graphic: &str) -> Graphic {
        Graphic(graphic.to_string())
    }

    fn draw(&self, hint: &str) {

        let hint_len = len_of_string(hint);
        let spare_len = 23 - hint_len;

        let mut replacement = hint.to_string();
        
        replacement.push_str(&((&" ").repeat(spare_len as usize)));
        
        let image =
            self.0.replace(".".repeat(23).as_str(), &replacement);

        println!("{}", image);
    }

    pub fn display(state: &Hangman, hint: &str) {
        GRAPHICS.get(state).unwrap().draw(hint);
    }
}

lazy_static! {
    pub static ref GRAPHICS: HashMap<Hangman, Graphic> = {
        let mut map = HashMap::new();

        map.insert(Splash, Graphic::new("\n\
        .                                             +-------+\n\
        .                                             |      \\|\n\
        .                   _______________                   |\n\
        .                -=[ H A N G M A N ]=-                |\n\
        .                   ^^^^^^^^^^^^^^^                   |\n\
        .                                                     |\n\
        .                                                    /|\\\n\
        .                                                   / | \\\n\
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\
        "));

        map.insert(Error(0), Graphic::new("\n\
        .                                             +-------+\n\
        .                                             |      \\|\n\
        .                                                     |\n\
        .               .......................               |\n\
        .                                                     |\n\
        .                                                     |\n\
        .                                                    /|\\\n\
        .                                                   / | \\\n\
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\
        "));

        map.insert(Error(1), Graphic::new("\n\
        .                                             +-------+\n\
        .                                             |      \\|\n\
        .                                             0       |\n\
        .               .......................               |\n\
        .                                                     |\n\
        .                                                     |\n\
        .                                                    /|\\\n\
        .                                                   / | \\\n\
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\
        "));

        map.insert(Error(2), Graphic::new("\n\
        .                                             +-------+\n\
        .                                             |      \\|\n\
        .                                             0       |\n\
        .               .......................       |       |\n\
        .                                                     |\n\
        .                                                     |\n\
        .                                                    /|\\\n\
        .                                                   / | \\\n\
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\
        "));

        map.insert(Error(3), Graphic::new("\n\
        .                                             +-------+\n\
        .                                             |      \\|\n\
        .                                             0       |\n\
        .               .......................      /|       |\n\
        .                                                     |\n\
        .                                                     |\n\
        .                                                    /|\\\n\
        .                                                   / | \\\n\
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\
        "));

        map.insert(Error(4), Graphic::new("\n\
        .                                             +-------+\n\
        .                                             |      \\|\n\
        .                                             0       |\n\
        .               .......................      /|\\      |\n\
        .                                                     |\n\
        .                                                     |\n\
        .                                                    /|\\\n\
        .                                                   / | \\\n\
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\
        "));

        map.insert(Error(5), Graphic::new("\n\
        .                                             +-------+\n\
        .                                             |      \\|\n\
        .                                             0       |\n\
        .               .......................      /|\\      |\n\
        .                                             |       |\n\
        .                                                     |\n\
        .                                                    /|\\\n\
        .                                                   / | \\\n\
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\
        "));

        map.insert(Error(6), Graphic::new("\n\
        .                                             +-------+\n\
        .                                             |      \\|\n\
        .                                             0       |\n\
        .               .......................      /|\\      |\n\
        .                                             |       |\n\
        .                                            /        |\n\
        .                                                    /|\\\n\
        .                                                   / | \\\n\
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\
        "));

        map.insert(Win(0), Graphic::new("\n\
        .                                             +-------+\n\
        .                                             |      \\|\n\
        .                                                     |\n\
        .               .... Y O U   W I N ....               |\n\
        .                                                     |\n\
        .                                                     |\n\
        .                                                    /|\\\n\
        .                                                   / | \\\n\
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\
        "));

        map.insert(Win(1), Graphic::new("\n\
        .                                             +-------+\n\
        .                                             |      \\|\n\
        .                                             0       |\n\
        .               .... Y O U   W I N ....               |\n\
        .                                                     |\n\
        .                                                     |\n\
        .                                                    /|\\\n\
        .                                                   / | \\\n\
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\
        "));

        map.insert(Win(2), Graphic::new("\n\
        .                                             +-------+\n\
        .                                             |      \\|\n\
        .                                             0       |\n\
        .               .... Y O U   W I N ....       |       |\n\
        .                                                     |\n\
        .                                                     |\n\
        .                                                    /|\\\n\
        .                                                   / | \\\n\
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\
        "));

        map.insert(Win(3), Graphic::new("\n\
        .                                             +-------+\n\
        .                                             |      \\|\n\
        .                                             0       |\n\
        .               .... Y O U   W I N ....      /|       |\n\
        .                                                     |\n\
        .                                                     |\n\
        .                                                    /|\\\n\
        .                                                   / | \\\n\
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\
        "));

        map.insert(Win(4), Graphic::new("\n\
        .                                             +-------+\n\
        .                                             |      \\|\n\
        .                                             0       |\n\
        .               .... Y O U   W I N ....      /|\\      |\n\
        .                                                     |\n\
        .                                                     |\n\
        .                                                    /|\\\n\
        .                                                   / | \\\n\
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\
        "));

        map.insert(Win(5), Graphic::new("\n\
        .                                             +-------+\n\
        .                                             |      \\|\n\
        .                                             0       |\n\
        .               .... Y O U   W I N ....      /|\\      |\n\
        .                                             |       |\n\
        .                                                     |\n\
        .                                                    /|\\\n\
        .                                                   / | \\\n\
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\
        "));

        map.insert(Win(6), Graphic::new("\n\
        .                                             +-------+\n\
        .                                             |      \\|\n\
        .                                             0       |\n\
        .               .... Y O U   W I N ....      /|\\      |\n\
        .                                             |       |\n\
        .                                            /        |\n\
        .                                                    /|\\\n\
        .                                                   / | \\\n\
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\
        "));

        map.insert(Loose, Graphic::new("\n\
        .                                             +-------+\n\
        .                                             |      \\|\n\
        .                                             0       |\n\
        .               .. Y O U   L O O S E ..      /|\\      |\n\
        .                                             |       |\n\
        .                                            / \\      |\n\
        .                                                    /|\\\n\
        .                                                   / | \\\n\
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\
        "));

        map.insert(Bye(0), Graphic::new("\n\
        .                                             +-------+\n\
        .                                             |      \\|\n\
        .                                                     |\n\
        .               ........ B Y E ........               |\n\
        .                                                     |\n\
        .                                                     |\n\
        .                                                    /|\\\n\
        .                                                   / | \\\n\
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\
        "));

        map.insert(Bye(1), Graphic::new("\n\
        .                                             +-------+\n\
        .                                             |      \\|\n\
        .                                             0       |\n\
        .               ........ B Y E ........               |\n\
        .                                                     |\n\
        .                                                     |\n\
        .                                                    /|\\\n\
        .                                                   / | \\\n\
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\
        "));

        map.insert(Bye(2), Graphic::new("\n\
        .                                             +-------+\n\
        .                                             |      \\|\n\
        .                                             0       |\n\
        .               ........ B Y E ........       |       |\n\
        .                                                     |\n\
        .                                                     |\n\
        .                                                    /|\\\n\
        .                                                   / | \\\n\
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\
        "));

        map.insert(Bye(3), Graphic::new("\n\
        .                                             +-------+\n\
        .                                             |      \\|\n\
        .                                             0       |\n\
        .               ........ B Y E ........      /|       |\n\
        .                                                     |\n\
        .                                                     |\n\
        .                                                    /|\\\n\
        .                                                   / | \\\n\
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\
        "));

        map.insert(Bye(4), Graphic::new("\n\
        .                                             +-------+\n\
        .                                             |      \\|\n\
        .                                             0       |\n\
        .               ........ B Y E ........      /|\\      |\n\
        .                                                     |\n\
        .                                                     |\n\
        .                                                    /|\\\n\
        .                                                   / | \\\n\
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\
        "));

        map.insert(Bye(5), Graphic::new("\n\
        .                                             +-------+\n\
        .                                             |      \\|\n\
        .                                             0       |\n\
        .               ........ B Y E ........      /|\\      |\n\
        .                                             |       |\n\
        .                                                     |\n\
        .                                                    /|\\\n\
        .                                                   / | \\\n\
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\
        "));

        map.insert(Bye(6), Graphic::new("\n\
        .                                             +-------+\n\
        .                                             |      \\|\n\
        .                                             0       |\n\
        .               ........ B Y E ........      /|\\      |\n\
        .                                             |       |\n\
        .                                            /        |\n\
        .                                                    /|\\\n\
        .                                                   / | \\\n\
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\
        "));

        map
    };
}
